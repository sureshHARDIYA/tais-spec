post:
  tags:
    - Project
  summary: Create a new project
  description: "This endpoint creates a new project."
  operationId: createProject
  security:
    - api_key: []
    - basic_auth: []
  responses:
    "200":
      description: OK
      headers:
        X-Rate-Limit:
          description: "Calls per hour allowed by the user."
          schema:
            type: integer
            format: int32
        X-Expires-After:
          $ref: ../components/headers/ExpiresAfter.yaml
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                type: string
                format: uuid
                description: "Generated UUID for the project"
              application_name:
                type: string
                description: "Name of the application"
              type:
                type: string
                description: "Type of the project"
              created_at:
                type: string
                format: date
                description: "Creation date"
              last_build:
                type: string
                description: "Last build status"
              owner:
                type: string
                description: "Project owner"
              tags:
                type: array
                items:
                  type: string
                description: "Project tags"
              projectId:
                type: integer
                description: "Project ID"
              docs:
                type: object
                properties:
                  type:
                    type: string
                    enum:
                      - swagger
                      - storybook
                      - markdown
                  url:
                    type: string
                    format: uri
              links:
                type: array
                items:
                  type: object
                  properties:
                    title:
                      type: string
                    href:
                      type: string
                      format: uri
                    target:
                      type: string
              gitlab:
                type: object
                properties:
                  project_id:
                    type: integer
                  project_link:
                    type: string
                    format: uri
                  project_slug:
                    type: string
              sonarQube:
                type: object
                properties:
                  project_slug:
                    type: string
                  project_link:
                    type: string
                    format: uri
                  default_branch:
                    type: string
              healthEndPoint:
                type: string
                format: uri
                description: "Optional health check endpoint for the application"
          examples:
            response:
              value:
                id: "550e8400-e29b-41d4-a716-446655440000"
                application_name: "Offer API"
                type: "microservice"
                created_at: "2024-12-28"
                last_build: "Passed"
                owner: "AKSOLE"
                tags: ["Java", "Maven", "Spring boot", "tip builder"]
                projectId: 5572
                docs:
                  type: "swagger"
                  url: "https://offer-api.test3.jee.prd1.prdroot.net/openapi.yaml"
                links:
                  - title: "OpenAPI Docs"
                    href: "https://offer-api.test3.jee.prd1.prdroot.net/openapi.yaml"
                    target: "_blank"
                  - title: "GitLab Repo"
                    href: "https://gitlab.devops.prdroot.net/service/jee/tryg-insurance-platform/offer-api"
                    target: "_blank"
                gitlab:
                  project_id: 5572
                  project_link: "https://gitlab.devops.prdroot.net/service/jee/tryg-insurance-platform/offer-api"
                  project_slug: "service/jee/tryg-insurance-platform/offer-api"
                sonarQube:
                  project_slug: "offer-api"
                  project_link: "https://sonarqube.devops.prdroot.net/dashboard?id=offer-api"
                  default_branch: "main"
                healthEndPoint: "https://offer-api.test3.jee.prd1.prdroot.net/actuator/health"
    "400":
      description: Bad Request
    "401":
      description: Unauthorized
    "500":
      description: Internal Server Error
  requestBody:
    content:
      application/json:
        schema:
          type: object
          required:
            - application_name
            - type
            - created_at
            - last_build
            - owner
            - tags
            - projectId
            - docs
            - links
            - gitlab
            - sonarQube
          properties:
            application_name:
              type: string
              description: "Name of the application"
              example: "Offer API"
            type:
              type: string
              description: "Type of the project"
              example: "microservice"
            created_at:
              type: string
              format: date
              description: "Creation date"
              example: "2024-12-28"
            last_build:
              type: string
              description: "Last build status"
              example: "Passed"
            owner:
              type: string
              description: "Project owner"
              example: "AKSOLE"
            tags:
              type: array
              items:
                type: string
              description: "Project tags"
              example: ["Java", "Maven", "Spring boot", "tip builder"]
            projectId:
              type: integer
              description: "Project ID"
              example: 5572
            docs:
              type: object
              required:
                - type
                - url
              properties:
                type:
                  type: string
                  enum:
                    - swagger
                    - storybook
                    - markdown
                  example: "swagger"
                url:
                  type: string
                  format: uri
                  example: "https://offer-api.test3.jee.prd1.prdroot.net/openapi.yaml"
            links:
              type: array
              items:
                type: object
                required:
                  - title
                  - href
                  - target
                properties:
                  title:
                    type: string
                    example: "OpenAPI Docs"
                  href:
                    type: string
                    format: uri
                    example: "https://offer-api.test3.jee.prd1.prdroot.net/openapi.yaml"
                  target:
                    type: string
                    example: "_blank"
            gitlab:
              type: object
              required:
                - project_id
                - project_link
                - project_slug
              properties:
                project_id:
                  type: integer
                  example: 5572
                project_link:
                  type: string
                  format: uri
                  example: "https://gitlab.devops.prdroot.net/service/jee/tryg-insurance-platform/offer-api"
                project_slug:
                  type: string
                  example: "service/jee/tryg-insurance-platform/offer-api"
            sonarQube:
              type: object
              required:
                - project_slug
                - project_link
                - default_branch
              properties:
                project_slug:
                  type: string
                  example: "offer-api"
                project_link:
                  type: string
                  format: uri
                  example: "https://sonarqube.devops.prdroot.net/dashboard?id=offer-api"
                default_branch:
                  type: string
                  example: "main"
            healthEndPoint:
              type: string
              format: uri
              description: "Optional health check endpoint for the application"
              example: "https://offer-api.test3.jee.prd1.prdroot.net/actuator/health"
        example:
          application_name: "Offer API"
          type: "microservice"
          created_at: "2024-12-28"
          last_build: "Passed"
          owner: "AKSOLE"
          tags: ["Java", "Maven", "Spring boot", "tip builder"]
          projectId: 5572
          docs:
            type: "swagger"
            url: "https://offer-api.test3.jee.prd1.prdroot.net/openapi.yaml"
          links:
            - title: "OpenAPI Docs"
              href: "https://offer-api.test3.jee.prd1.prdroot.net/openapi.yaml"
              target: "_blank"
            - title: "GitLab Repo"
              href: "https://gitlab.devops.prdroot.net/service/jee/tryg-insurance-platform/offer-api"
              target: "_blank"
          gitlab:
            project_id: 5572
            project_link: "https://gitlab.devops.prdroot.net/service/jee/tryg-insurance-platform/offer-api"
            project_slug: "service/jee/tryg-insurance-platform/offer-api"
          sonarQube:
            project_slug: "offer-api"
            project_link: "https://sonarqube.devops.prdroot.net/dashboard?id=offer-api"
            default_branch: "main"
          healthEndPoint: "https://offer-api.test3.jee.prd1.prdroot.net/actuator/health"
    description: "Project creation payload. The id field will be generated by the API as a UUID."
    required: true
  x-codeSamples:
    - lang: C#
      source:
        $ref: "../code_samples/C_sharp/echo/post.cs"
    - lang: PHP
      source:
        $ref: "../code_samples/PHP/echo/post.php"
